#共识算法 
## POW
POW（工作量证明）。通过暴力计算hash值获得区块的打包权，可以通过堆砌硬件配置而获得更多区块打包机会，算法简单、公平、有效。但因为获得某个区块打包权的节点只会有一个而挖矿中其他未获得打包权的节点等于是白白浪费了算力而饱受诟病和争议。由于POW实现原理简单粗暴且行之有效是目前是公链上应用最为广泛的共识算法，比特币、以太坊目前均采用此算法。

## POS
POS算法（股份证明）。持币人将持有的币参与到新的区块的产生中，然后共识机制从中随机挑选一个生产区块（挑选的规则可以和持有的币的数量相关，
例如持有1000个币的人被选中的概率比持有100个币的人的概率大10倍），当一个被选中的生产者产生一个新的区块并被验证通过后将会获得相应的代币奖励
，奖励数量与持有代币的总量以及持有的时间正相关。pos算法有去多的变种。

## PBFT
适用于私有链、联盟链等一些验证节点较少的区块链的共识算法。假设系统中共有 N 个节点，那么 PBFT 算法可以容忍系统中存在
F 个恶意节点，并且 3F+1 不大于 N。PBFT 共识算法虽然随着系统中节点数增多而可以容忍更多的拜占庭节点，但其共识效率却是以极快的速率下降，应用 PBFT做共识算法的系统中很少有超过 100 个节点的原因。

## DAG  
DAG（Directed Acyclic Graph）有向无环图。目前非常有名的采用DAG技术的区块链产品有DagCoin,IOTA,ByteBall等，他们都是基于DAG，在性能和储量上面有了全面的提升。
1. 交易速度快   
由于DAG摒弃了区块概念，交易直接进入全网中（需要指出，iota网络中每发起一笔交易，会类似hashcash一样的机制做简单的pow证明），所以交易速度预期比基于pow和pos的需要出块的区块链会快不少。  

2. 无需挖矿  
DAG把交易确认的环境直接下放给交易本身，无需由矿工打包成区块后同意交易顺序。所以DAG网络中没有矿工的角色。  

3. 无手续费    
iota的tangle网路中，交易发起只需要做简单的POW工作量证明，整个网络中的POW都是发起交易者自己做的，而不是交给矿工。发起交易无需手续费。   

4. 智能合约支持  
目前iota还不支持智能合约，但是官方roadmap中有计划在18年开始实现对智能合约的支持。而byteball也还不支持智能合约。  

5. 需要见证节点  

不管是iota还是byteball，目前的网络结构中，还是需要见证人机制的存在。这一部分不管是DPOS、POS、PBFT，大家最终都会在效率、安全性上寻求一种平衡。
DAG网络一个重要的问题就是解决网络宽度，DAG网络中，每笔交易被确认，需要链接到已经在网络中存在的并且比较新的交易，如果都选择网络中比较早的交易，会导致网络宽度过宽，新的交易难以得到确认。理想的状态是，新的交易发起时，选择网络中已经存在的并且比较新的交易做链接确认，这样网络的宽度保持在一定范围，能让新的交易有足够快的确认时间。在IOTA中，tangle也提出了自己控制交易宽度的算法，有兴趣可以参考tangle白皮书。

## DPOS  
DPOS是权益共识的一种改进版本，共识过程不再需要所有参与节点的大多数通过，而是委托部分代表来进行，这样可以进一步提高共识效率，也能较好地处理系统节点不在线的问题。在比特股（Bitshare）系统中采用的DPOS共识的原理是让每一个持有比特股的人进行投票，由此产生101位代表, 他们彼此的权利完全平等，可以将其理解为101个超级节点或者矿池。EOS也是采用DPOS的共识机制进行记账的，总共有21个超级节点，所有持有EOS代币的账户都有投票权，每1个代币有300票，当全网投票率超过15%后投票生效。
从某种角度来看，DPOS与议会制度或人民代表大会制度有相似之处。如果代表不能履行他们的职责，例如当轮到他们产生区块时没能按时生成，他们会被除名，继而网络会选出新的超级节点来将其取代。采用DPOS共识的系统通常都会采用经济方面的奖励和惩罚机制来达成更稳定的共识。  

